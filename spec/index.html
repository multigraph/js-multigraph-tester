<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="../lib/js-multigraph/build/multigraph.js"></script>
    <link href="../src/tester.css" type="text/css" rel="stylesheet" media="screen"/>
    <script type="text/javascript" src="../src/tester.js"></script>
    <script type="text/javascript">
      $ = jQuery = window.multigraph.jQuery;

      urlParams = function() {
        var match,
            pl     = /\+/g,  // Regex for replacing addition symbol with a space
            search = /([^&=]+)=?([^&]*)/g,
            decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
            query  = window.location.search.substring(1),
            params = {};

          while (match = search.exec(query)) {
            params[decode(match[1])] = decode(match[2]);
          }
          return params;
      };

      $(document).ready(function () {
          $("#location").jsMultigraphTester();

          var params = urlParams();
          if (params.muglurl) {
            $.ajax({ url      : params.muglurl,
                     dataType : "text",
                     success  : function(data) {
                       $("#location").jsMultigraphTester('setMugl', data);
                   }});
          }

      });
    </script>
  </head>

  <body>

    <div id="location">
    </div>

  </body>
</html>
